<app-header></app-header>
<hr>
<div class="form-container">
  <div class="header">
    <img src="assets/back-arrow.png" alt="flèche retour" class="back-arrow" routerLink="/posts">
    <h1>Créer un nouvel article</h1>
  </div>

  <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
  <div *ngIf="postForm">
    <form [formGroup]="postForm" (ngSubmit)="createPost()">
      <div class="form-group">
        <select formControlName="topicName">
          <option disabled selected value="">Sélectionner un thème</option>
          <option *ngFor="let topic of topics" [value]="topic.name" >
            {{ topic.name }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <input type="text" formControlName="title" placeholder="Titre de l'article">
      </div>

      <div class="form-group">
        <textarea formControlName="content" placeholder="Contenu de l'article"></textarea>
      </div>
      <button type="submit" [disabled]="postForm.invalid">Créer</button>
    </form>
  </div>
</div>
